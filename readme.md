#### 创建时间：2023/02/08
#### 创建地点：南京百家湖花园
#### 创建目的：学习熟悉dpdk功能

##### 运行项目的步骤
1、确定大页配置正常,将/etc/default/grub启动项目的里面的数据注释掉，不使用1G内存的大页
2、修改代码中的global_ip为与本机发包工具使用的ip地址在同一个网段
3、运行项目的代码时，添加sudo权限

##### 支持功能
1、arp协议;
2、icmp协议;
3、udp协议;
4、tcp协议;
5、socket实现;
6、epoll实现;


1、支持协议栈的tcp协议，包含tcp的三次握手，四次挥手
    ·创建一个stream记录保存服务器的连接，使用链表的数据结构；
    ·捕获tcp的请求，并根据请求的内容判断是否是握手包
    ·设计状态机，并对状态进行状态机的转换；listen -> syn -> syn ack -> ack
    ·四次挥手：

2、使用ring架构

3、实现socket协议栈

4、实现kni的功能

####
规范要求：
    1、公用的数据结构设计放在std中
    2、头文件include顺序： std->协议->主线程
    3、所有的全局变量都在主线程中设计，各个协议栈都只是负责实现函数功能，各个协议之间互相解耦
    4、所有的自定义的宏都放在define.h的头文件中
    5、单例模式的变量都在函数体外进行获取而不在函数体内进行获取


BUGS:
    1、偶现: udp启动时存在fd没有存到lhost中；          时间：2023/7/25
       原因分析：lhost全部变量，在使用单例模式时，没有处理线程安全问题，导致多个线程会重复去初始化lhost对象；
       解决办法：通过加锁的的方式实现线程安全；


编译命令：g++ test_main.cpp  -o testmain -L/root/protocol_stack/build -ldpdk -lprotostack  -pthread